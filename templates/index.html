{% extends "base.html" %} {% load static %} {% block content %}
<div class="d-flex align-items-center justify-content-center min-vh-100">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 col-lg-9">
        <!-- Welcome Message -->
        <div class="card mb-3 card-spacing">
          <div class="card-body">
            <p>
              Welcome to Joystick Junction, the ultimate hub for gaming
              enthusiasts! Use the search bar to find a thread or choose one
              from the panels below. Join the conversation and become part of
              our vibrant community. Happy gaming!
            </p>
          </div>
        </div>

        <!-- Main thread Search -->
        <div class="card mb-3 card-spacing">
          <div class="card-body">
            <form
              id="homepageSearchFormMainThread"
              method="get"
              data-url="{% url 'homepage_search_threads' %}"
            >
              <div class="mb-3">
                <label for="query" class="form-label"></label>
                <input
                  type="text"
                  class="form-control"
                  name="search"
                  placeholder="Search threads"
                />
              </div>
              <button type="submit" class="btn btn-primary w-100">
                Search
              </button>
            </form>

            <!-- Search Results -->
            <div id="homepageResultsContainer"></div>
          </div>
        </div>

        <!-- Thread Panels -->
        <div class="row">
          <div class="col-md-6">
            <div class="card mb-3 card-spacing">
              <div class="card-body">
                <h2 class="thread-title">Trending Threads</h2>
                {% for main_thread in popular_threads %}
                <div class="thread">
                  <h3>
                    <a
                      class="btn result-button w-100 mt-3 thread-link result-link"
                      href="{% url 'main_thread_detail' game_id=main_thread.game_id %}"
                    >
                      {{ main_thread.name }}
                    </a>
                  </h3>
                </div>
                {% empty %}
                <p>No threads have been created yet.</p>
                {% endfor %}
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="card mb-3 card-spacing">
              <div class="card-body">
                <h2 class="thread-title">New Threads</h2>
                {% for main_thread in new_threads %}
                <div class="thread">
                  <h3>
                    <a
                      class="btn result-button w-100 mt-3 thread-link result-link"
                      href="{% url 'main_thread_detail' game_id=main_thread.game_id %}"
                    >
                      {{ main_thread.name }}
                    </a>
                  </h3>
                </div>
                {% empty %}
                <p>No threads have been created yet.</p>
                {% endfor %}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Scripts -->
<script src="{% static 'js/homepage_main_thread_search.js' %}"></script>
{% endblock %}
